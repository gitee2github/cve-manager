package models

import "time"

type HookUser struct {
	Id        int64
	Login     string //同下username
	Name      string //用户的昵称
	Email     string //用户的邮箱
	UserName  string `json:"username"`   //用户的码云个人空间地址
	AvatarUrl string `json:"avatar_url"` //用户头像
	SiteAdmin bool   `json:"site_admin"`//是不是管理员

}

type HookIssue struct {
	Id     int64
	Number string
	Title  string
	State  string
	HtmlUrl  string    `json:"html_url"` //评论在码云上的url
}

type HookComment struct {
	User     *HookUser //评论的作者信息
	HtmlUrl  string    `json:"html_url"` //评论在码云上的url
	Id       int64
	Body     string    //评论的内容
	CreateAt time.Time `json:"create_at"`
	UpdateAt time.Time `json:"update_at"`
}

//CommentPayload hook data triggered by a comment task operation
type CommentPayload struct {
	Action        string // 动作 comment
	HookName      string `json:"hook_name"`
	Password      string //钩子的密码
	HookId        int64  `json:"hook_id"`  //钩子ID
	HookUrl       string `json:"hook_url"` //钩子的路由
	Timestamp     string
	Sign          string       //钩子根据密钥计算的签名
	Comment       *HookComment //评论数据
	Note          string       //被评论目标的评论数据
	NoteableType  string       `json:"noteable_type"` //被评论的目标类型
	NoteableId    int64        `json:"noteable_id"` //被评论的目标ID
	Title         string       //被评论的目标标题
	PerId         string       `json:"per_iid"`         //被评论的目标标识
	ShortCommitId string       `json:"short_commit_id"` //被评论的commit提交中的简短sha
	Issue *HookIssue
}
